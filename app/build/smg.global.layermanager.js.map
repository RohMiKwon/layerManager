/**
 * samsung.com layer manager
 * src : common/js/src/smg/global/smg.global.layermanager.js
 * @version 1.1.1
 * @requires
 *  namespace.js
 *  smg.util.js
 *  smg.static.js
 *  smg.event.js
 * @since 2016.09.13
 */
{"version":3,"sources":["smg.global.layermanager.js"],"names":[],"mappings":"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","file":"smg.global.layermanager.js","sourcesContent":[";(function(win, $){\r\n\t'use strict';\r\n\r\n\tif (typeof win.smg === 'undefined') {\r\n\t\twin.smg = {};\r\n\t}\r\n\r\n\tif (typeof win.smg.global === 'undefined') {\r\n\t\twin.smg.global = {};\r\n\t}\r\n\r\n\tif(typeof win.smg.util === 'undefined') {\r\n\t\twin.smg.util = {};\r\n\t}\r\n\t\r\n\tvar STATIC = win.smg.static,\t\r\n\tUTIL = win.smg.util,\t\r\n\tEVENT = win.smg.event;\r\n\t\r\n\tvar LAYEREVENTS = EVENT.LAYER;\r\n\t/**\r\n\t* 레이어 관리 모듈\r\n\t* @class\r\n\t* @example new win.smg.global.LayerManager({ layer: $('#layer'), linked: $('#button'), onShow: function(e){ ... }, options: { keepDimmed: true }  });\r\n\t*/\r\n\twin.smg.global.LayerManager = class LayerManager {\t\r\n\t\tdefaults(){\r\n\t\t\tthis.dimmedClass = 'dimmed';\r\n\t\t\tthis.keepdimmedClass = 'keep-dimmed';\r\n\t\t\tthis.dimmedElement = '<div class=\"' + this.dimmedClass + '\"></div>';\r\n\r\n\t\t\treturn {\t\t\r\n\t\t\t\tenforceInitFocus: true,\r\n\t\t\t\tbActivated: true,\r\n\t\t\t\tkeepDimmed: false,\r\n\t\t\t\tcloseButton: '.close-button'\r\n\t\t\t}; \r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * LayerManager 생성자\r\n\t\t * @param {object} layer - 레이어 요소\r\n\t\t * @param {object} linked - 레이어와 연결되는 요소\r\n\t\t * @param {object} onBeforeShow - 레이어 열리기전 callback 지정\r\n\t\t * @param {object} onShow - 레이어 열린 후 callback 지정\r\n\t\t * @param {object} onBeforeHide - 레이어 닫히기 전 callback 지정\r\n\t\t * @param {object} onHide - 레이어 닫힌 후 callback 지정\r\n\t\t * @param {object} options - 레이어 관련 옵션\r\n\t\t * @description 옵션설명 - bActivated(boolean) : 모듈 활성화 여부 / keepDimmed(boolean) : dimmed 유지 여부 / closeButton(selector) : 레이어 내 닫기버튼 셀렉터 / enforceInitFocus(boolean) :  초기화시 포커스 여부\r\n\t\t */\r\n\t\tconstructor(settings){\r\n\t\t\tthis.$layer = settings.layer;\r\n\t\t\tthis.$linked = settings.linked;\r\n\t\t\tthis.options = $.extend({}, this.defaults(), settings.options);\r\n\r\n\t\t\tthis.onBeforeShowCallback = settings.onBeforeShow;\r\n\t\t\tthis.onShowCallback = settings.onShow;\r\n\t\t\tthis.onBeforeHideCallback = settings.onBeforeHide;\r\n\t\t\tthis.onHideCallback = settings.onHide;\r\n\r\n\t\t\tthis.init();\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t* 활성화\r\n\t\t*/\r\n\t\tactivate(){\r\n\t\t\tthis.show();\t\t\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t* 비활성화\r\n\t\t*/\r\n\t\tdeactivate(){\r\n\t\t\tthis.hide();\r\n\t\t\tthis.reset();\r\n\t\t}\r\n\r\n\t\tinit(){\r\n\t\t\tthis.assignedElements(); \r\n\t\t\tthis.appendDimmed();\r\n\t\t\tthis.appendModuleClass();\r\n\t\t\tthis.bindEvents();\r\n\r\n\t\t\tif(this.options.bActivated){\r\n\t\t\t\tthis.activate();\r\n\t\t\t}\t\t\t\r\n\r\n\t\t}\r\n\r\n\t\tassignedElements(){\r\n\t\t\tthis.$wrap = this.$layer.children();\r\n\t\t\tthis.$closeButton = this.$layer.find(this.options.closeButton);\r\n\t\t}\r\n\r\n\t\tappendModuleClass(){\t\t\t\r\n\t\t\tvar layerIntClass = STATIC.CSS.LAYER_MODULE;\r\n\r\n\t\t\tif(this.$layer.hasClass(layerIntClass)){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.$layer.addClass(layerIntClass);\r\n\t\t}\t\t\r\n\r\n\t\tappendDimmed(){\t\r\n\t\t\tthis.$layer.prepend(this.dimmedElement);\t\r\n\t\t\tthis.$dimmed = this.$layer.find('.' + this.dimmedClass); \r\n\t\t}\r\n\r\n\t\tunbindAllEvents(){\r\n\t\t\t$(win).off('resize', $.proxy(this.onResize, this));\t\r\n\t\t\tthis.$closeButton.off('click', $.proxy(this.onClickCloseButton, this));\t\t\t\r\n\t\t\tthis.$dimmed.off('click touchstart', $.proxy(this.onClickDimmed, this));\t\t\r\n\t\t}\r\n\r\n\t\tbindEvents(){\t\r\n\t\t\t$(win).off('resize', $.proxy(this.onResize, this));\t\r\n\t\t\t$(win).on('resize', $.proxy(this.onResize, this));\t\r\n\r\n\t\t\tthis.$closeButton.off('click', $.proxy(this.onClickCloseButton, this));\r\n\t\t\tthis.$closeButton.on('click', $.proxy(this.onClickCloseButton, this));\r\n\r\n\t\t\tif(!this.options.keepDimmed){\r\n\t\t\t\tthis.$dimmed.off('click touchstart', $.proxy(this.onClickCloseButton, this));\r\n\t\t\t\tthis.$dimmed.on('click touchstart', $.proxy(this.onClickCloseButton, this));\r\n\t\t\t}else{\r\n\t\t\t\tthis.$dimmed.addClass(this.keepdimmedClass);\r\n\t\t\t}\t\r\n\t\t}\r\n\r\n\t\tonResize(){\r\n\t\t\tthis.reposition(); \t\t\r\n\t\t}\r\n\r\n\t\tonClickCloseButton(e){\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tthis.hide();\r\n\t\t\tthis.reset();\r\n\t\t} \r\n\t\t\r\n\t\t/**\r\n\t\t* 초기화 (스타일 & 이벤트)\r\n\t\t*/\r\n\t\treset(){\r\n\t\t\tthis.unbindAllEvents();\t \r\n\t\t\tthis.$wrap.removeAttr('style');\r\n\t\t\tthis.$layer.removeClass(STATIC.CSS.LAYER_MODULE);\r\n\t\t\t$('html').removeClass(STATIC.CSS.LAYER_OPEN);\t\r\n\t\t\tthis.$dimmed.removeClass(this.keepdimmedClass);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t* 레이어 객체 가져옴\r\n\t\t* @return {element}  \r\n\t\t*/\r\n\t\tgetLayer(){\r\n\t\t\treturn this.$layer;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t* 레이어와 연결된 요소를 가져움\r\n\t\t* @return {element} \r\n\t\t*/\r\n\t\tgetLinked(){\r\n\t\t\treturn this.$linked ? this.$linked : null;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t* 레이어 열기/닫기 여부\r\n\t\t* @return {boolean} \r\n\t\t*/\r\n\t\tisVisible(){\r\n\t\t\treturn this.$layer.css('display') === 'block';\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t* 레이어 열기\r\n\t\t*/\r\n\t\tshow(){\t\t\t\r\n\r\n\t\t\tif(typeof this.onBeforeShowCallback === 'function'){\r\n\t\t\t\tthis.onBeforeShowCallback.apply(this, [this.getData(LAYEREVENTS.BEFORESHOW)]);\r\n\t\t\t}\r\n\r\n\t\t\tthis.$layer.trigger(this.getData(LAYEREVENTS.BEFORESHOW));\r\n\t\t\t\r\n\r\n\t\t\tthis.$layer.show();\r\n\t\t\tthis.showDimmed();\r\n\t\t\tthis.reposition();\r\n\r\n\t\t\tif(this.options.enforceInitFocus){\r\n\t\t\t\tthis.enforceFocusLayer(); \t\r\n\t\t\t}\t\t\t\r\n\r\n\t\t\tif(typeof this.onShowCallback === 'function'){\r\n\t\t\t\tthis.onShowCallback.apply(this, [this.getData(LAYEREVENTS.SHOW)]);\r\n\t\t\t}\r\n\r\n\t\t\tthis.$layer.trigger(this.getData(LAYEREVENTS.SHOW));\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t* 레이어 닫기\r\n\t\t*/\r\n\t\thide(){\r\n\t\t\tif(typeof this.onBeforeHideCallback === 'function'){\r\n\t\t\t\tthis.onBeforeHideCallback.apply(this, [this.getData(LAYEREVENTS.BEFOREHIDE)]);\r\n\t\t\t}\r\n\r\n\t\t\tthis.$layer.trigger(this.getData(LAYEREVENTS.BEFOREHIDE));\t\r\n\t\t\r\n\t\t\tthis.$layer.hide();\r\n\t\t\tthis.hideDimmed();\r\n\t\t\tthis.enforceFocusLinked();\t\t\t\r\n\r\n\t\t\tif(typeof this.onHideCallback === 'function'){\r\n\t\t\t\tthis.onHideCallback.apply(this, [this.getData(LAYEREVENTS.HIDE)]);\r\n\t\t\t}\r\n\r\n\t\t\tthis.$layer.trigger(this.getData(LAYEREVENTS.HIDE));\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t* 레이어 위치 조정\r\n\t\t*/\r\n\t\treposition(){\r\n\t\t\tvar $wrap = this.$wrap,\r\n\t\t\t\t$win = $(win),\r\n\t\t\t\tleft = parseInt(($win.width() - $wrap.outerWidth()) * 0.5), \r\n\t\t\t\ttop = parseInt(($win.height() - $wrap.outerHeight()) * 0.5);\r\n\r\n\t\t\ttop = top <= 0 ? 0 : top;\r\n\r\n\t\t\t$wrap.css({\r\n\t\t\t\ttop: top, \r\n\t\t\t\tleft: left\r\n\t\t\t});\r\n\r\n\t\t\tthis.setHeightDimmed($win.height(), $wrap.outerHeight());\t\t\r\n\t\t}\r\n\r\n\t\tsetHeightDimmed(screenHeight, wrapHeight){\r\n\t\t\tvar dimHeight = screenHeight <= wrapHeight ? wrapHeight : screenHeight;\r\n\r\n\t\t\tthis.$dimmed.css('height', dimHeight);\t\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t* dimmed 요소 보이기\r\n\t\t*/\r\n\t\tshowDimmed(){\r\n\t\t\tthis.$dimmed.show();\r\n\t\t\t$('html').addClass(STATIC.CSS.LAYER_OPEN);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t* dimmed 요소 숨기기\r\n\t\t*/\r\n\t\thideDimmed(){\r\n\t\t\tthis.$dimmed.remove();\r\n\t\t\t$('html').removeClass(STATIC.CSS.LAYER_OPEN);\r\n\t\t}\r\n\r\n\t\tenforceFocusLayer(){\r\n\t\t\tvar $wrap = this.$wrap;\r\n\r\n\t\t\tvar timer = setTimeout(function(){\r\n\t\t\t\t$wrap.attr('tabindex', -1).focus();\r\n\t\t\t\tclearTimeout(timer); \r\n\t\t\t}, 50);\r\n\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t* 레이어와 연결된 요소로 포커스 이동\r\n\t\t*/\r\n\t\tenforceFocusLinked(){\r\n\t\t\tvar _this = this;\t\r\n\t\t\t\r\n\t\t\tif(!this.$linked) return;\t\t\r\n\r\n\t\t\tvar timer = setTimeout(function(){\r\n\t\t\t\t_this.$linked.focus();\r\n\t\t\t\tclearTimeout(timer); \r\n\t\t\t}, 50);\r\n\t\t}\r\n\r\n\t\tgetData(customEventName){\r\n\t\t\treturn {\r\n\t\t\t\ttype: customEventName,\r\n\t\t\t\tmanager: this,\r\n\t\t\t\tlayer: this.$layer,\r\n\t\t\t\tlinked: this.getLinked()\r\n\t\t\t};\r\n\t\t}\r\n\t};\r\n\r\n\t$(document).on('click', '[data-module-id=\"layer\"]', function(e){\r\n\t\tvar $linked = $(this);\r\n\t\tvar $layer = $($linked.data('layer-target'));\r\n\r\n\t\tif($linked.is('a')) e.preventDefault();\r\n\r\n\t\tnew win.smg.global.LayerManager({\r\n\t\t\tlayer: $layer,\r\n\t\t\tlinked: $linked\r\n\t\t});\r\n\t\t\r\n\t});\r\n})(window, jQuery);"],"sourceRoot":"/source/"}