<!DOCTYPE html>
<html lang="ko" itemscope itemtype="http://schema.org/WebPage">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0">
<meta name="format-detection" content="telephone=no, address=no, email=no" />
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta http-equiv="Content-Language" content="ko">
<meta property="product:availability"	content="oos">
<title>레이어모듈</title>

<style>
.layer-open{height:initial;position:fixed;left:0;right:0;}
.layer-open body{overflow-x:hidden;overflow-y:hidden;}
.layer-open .layer-module{overflow-y:auto;}
.layer-module{overflow:hidden;position:fixed;top:0;right:0;bottom:0;left:0;-webkit-overflow-scrolling:touch;z-index:9999}
.layer-open .dimmed{position:absolute;bottom:initial;cursor:pointer;}
.layer-open .keep-dimmed{cursor:default;}


.button{display:inline-block;min-width:300px;padding:3px 5px 2px;border:1px solid #464646;border-radius:2px;color:#464646;background:#fff;text-align:center;font-size:15px;box-sizing:border-box;}

.box{position:relative;border:1px solid #ddd;border-radius:2px;background:#f5f5f5}
.box .info{position:absolute;top:0;right:0;bottom:0;left:0;height:20px;margin:auto;text-align:center;vertical-align:middle;}

.outline{margin:15px;}
.outline .button{margin-right:10px;}
.outline .desc{display:inline-block;font-size:14px;}
.outline code{display:none}

#console{display:none;overflow-x:auto;position:fixed;right:0;bottom:0;left:0;background:rgba(255,255,255,.8);padding:10px;z-index:10000;}
#console pre{margin:0;color:#464646;font-family:Arial}
#console strong{color: #ff5800;}

@media screen and (max-width: 768px){
	.layer_popup #sign_wrap{
		margin:0;
	}
}
</style>

</head>
<body>

<div id="content"></div>

<div class="outline">
	<button type="button" id="button1" class="button" data-module-id="layer" data-layer-target="#privacyPopup">Common Layer Popup</button>
	<p class="desc">1. 레이어 팝업 열기/닫기, 중앙정렬, Dimmed, Focus</p>
	<code>
		<pre>&lt;button type="button" class="button" <strong>data-module-id="layer" data-layer-target="#privacyPopup"</strong>&gt;Common Layer Popup&lt;/button&gt;</pre>
	</code>
</div>

<div class="outline">
	<!-- <button type="button" id="button2" class="button">Keep Dimmed = true</button> -->
	<a href="#" class="button" id="button2">Keep Dimmed = true</a>
	<p class="desc">2. Dimmed 영역 클릭시에도 Dimmed 유지 (기본값: false)</p>
	<code>
		<pre>$('#button2').on('click', function(e){		
			oLoginLayerManager = new smg.global.LayerManager({
				layer: $('#loginLayerPopup'), 
				linked: $(this), 
				options: {
					<strong>keepDimmed: true</strong> 
				}
			});	
		});</pre>
	</code>
</div>

<div class="outline">
	<button type="button" id="button3" class="button">Close Button Selector</button>
	<p class="desc">3. 레이어 팝업 닫기 버튼 클래스명이 다를 경우 (기본값: .close-button)</p>	
	<code>
		<pre>$('#button3').on('click', function(e){		
			oLayerManager = new smg.global.LayerManager({
				layer: $('#layer3'), 
				linked: $(this),
				options: {
					<strong>closeButton : '.login-close-btn'</strong>
				}
			});	
		});</pre>
	</code>
</div>

<div class="outline">
	<button type="button" id="button6" class="button">enforceInitFocus = false</button>
	<p class="desc">4. 레이어 열릴 때 강제 포커스 해제 및 포커스 요소 지정(기본값: true)</p>	
	<code>
		<pre>$('#button6').on('click', function(e){	 
			oLoginLayerManager = new smg.global.LayerManager({
				layer: $('#layer6'), 
				linked: $(this),
				onShow: function(e){
					e.layer.find('input').eq(0).focus();
				},
				options: {			
					<strong>enforceInitFocus: false,</strong>
					keepDimmed: true 
				}
			});
		});</pre>
	</code>
</div>

<div class="box" style="height:900px">
	<p class="info">Contents Area</p>
	<div class="outline">
		<button type="button" id="button4" class="button">Scroll Position</button>
		<p class="desc">전체 스크롤 생겼을시 레이어 팝업 닫기 후 스크롤 위치 유지</p>
	</div>	
</div>

<div class="outline">
	<button type="button" id="button5" class="button">Overflow Contents</button>
	<p class="desc">레이어 팝업 내 내용이 많을 경우 스크롤 처리</p>	
</div>

<!-- 예제1) privacyPopup -->
<div class="layer_popup" id="privacyPopup" style="display: none;">
	<div id="popup_privacy" class="popAlign">
		<form action="#" method="post" name="" id="">
			<fieldset>
				<legend>Privacy Policy</legend>
				<div class="popup_wrap">
					<div class="popup_title">Privacy Policy</div>
					<div class="popup_cont">
						<div class="privacy_wrap">
							fffffffffff
						</div>
					</div>
					<button class="close-button icon-close-x login-leave-btn" data-focus-id="shop-popover-close" data-tab-disable="true" tabindex="0">
						<span class="blind">Privacy Policy Close</span>
					</button>
				</div>
			</fieldset>
		</form>
	</div>
</div>
<!-- //예제1) privacyPopup -->


<!-- 예제2) loginLayerPopup -->
<div class="layer_popup" id="loginLayerPopup" style="display: none;">
	<div id="sign_wrap" class="popAlign">
		<form action="#" method="post" name="SloginForm" id="SloginForm">
			<fieldset>
				<legend>Sign In</legend>
				<div class="sign-inner-wrap">
					<div class="title">Sign In</div>
					<div class="popup_cont">
						sssssssssssssss
					</div>
					<button class="close-button icon-close-x login-close-btn"><span class="blind">Close</span></button>
				</div>
			</fieldset>
		</form>
	</div>
</div>
<!-- // 예제2) loginLayerPopup -->

<div class="layer_popup" id="preferencePopup" style="display: none;">
	<div id="popup-type04" class="popAlign">
		<div class="popup_wrap">
			<h2 class="pop-tit">Preference Check</h2>
			<p class="msg-text">Help us to make recommendations for you by updating your product preferences.</p>
			<div class="pop-btn">
				<a href="javascript:void(0)" class="button" id="preferenceCheckBtn" title="Go to preference check page ">YES</a>
				<a href="javascript:void(0)" class="button login-close-btn" title="Preference check later">LATER</a>
			</div>
			<button class="close-button icon-close-x login-close-btn">
				<span class="blind">Preference Check Close</span>
			</button>
		</div>
	</div>
</div>

<div class="layer_popup" id="confirmPopup" style="display: none;">
	<div id="popup-type02" class="popAlign">
		<div class="popup_wrap">
			<h2 class="pop-tit"></h2>
			<p class="msg-text tc">
				confirmpopup confirmpopup<br>
			</p>
			<div class="pop-btn">
				<a href="javascript:void(0)" class="button login-leave-btn" title="No Access OK">OK</a>
			</div>
			<button class="close-button icon-close-x login-leave-btn">
				<span class="blind">No Access Close</span>
			</button>
		</div>
	</div>
</div>

<!-- NextGen Style -->
<div class="layer_popup">
	<div id="gloval_message_popup" class="popup-nextgen-type popAlign">
		<div class="popup_wrap">
			ssssssssssssssss
			<div class="pop-btn">
				<a href="#" class="button login-leave-btn">OK</a>
			</div>
			<button class="close-button icon-close-x login-leave-btn">
				<span class="blind">Layer Popup Close</span>
			</button>
		</div>
	</div>
</div>
<!-- //NextGen Style -->

<div id="console"></div>
<script
  src="https://code.jquery.com/jquery-1.12.4.min.js"
  integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ="
  crossorigin="anonymous"></script>
<script src="../app/build/smg.global.layermanager.js"></script>
<!-- <script src="../app/dist/smg.global.layermanager.min.js"></script> -->

<script>
;(function(win, $){
	'use strict';

	var oLayerManager, oLoginLayerManager;	

	function consoleShow(e){
		if(e.linked.closest('.outline').find('code').length <= 0) return;

		$('#console').show();
		$('#console').append(e.linked.closest('.outline').find('code').clone());
	}

	function consoleHide(){
		$('#console').hide();
		$('#console').children().remove();
	}

	$(function(){
		// 공통 레이어에 경우 callback을 넘기는 구문이 없기 때문에 trigger event 받아서 처리 가능
		$('#privacyPopup').on('LAYER_BEFORESHOW', function(e){
			console.log(e.layer, e.type);
		});

		$('#privacyPopup').on('LAYER_SHOW', function(e){
			console.log(e.layer, e.type);
			consoleShow(e);
		});		
		
		$('#privacyPopup').on('LAYER_BEFOREHIDE', function(e){
			console.log(e.layer, e.type);
		});

		$('#privacyPopup').on('LAYER_HIDE', function(e){
			console.log(e.layer, e.type);
			consoleHide(e);
		});

		$('#button2').on('click', function(e){
			e.preventDefault();	 

			oLoginLayerManager = new smg.global.LayerManager({
				layer: $('#loginLayerPopup'), 
				linked: $(this),
				onShow: function(e){
					consoleShow(e);
				},
				onHide: function(e){
					consoleHide();
				},
				options: {			
					keepDimmed: true 
				}
			});
		});

		$('#button3').on('click', function(e){		
			oLayerManager = new smg.global.LayerManager({
				layer: $('#preferencePopup'), 
				linked: $(this),
				onShow: function(e){
					consoleShow(e);
				},
				onHide: function(e){
					consoleHide();
				},
				options: {
					closeButton : '.login-close-btn'
				}
			});			
		});	

		$('#button4').on('click', function(e){		
			oLayerManager = new smg.global.LayerManager({
				layer: $('#confirmPopup'), 
				linked: $(this),
				onBeforeShow: function(e){
					console.log('beforeShowCallback');
				},
				onShow: function(e){
					console.log('showCallback');
				},
				onBeforeHide: function(e){
					console.log('beforeHideCallback');
				},
				onHide: function(e){
					console.log('hideCallback');
				},
				options: {
					closeButton : '.login-leave-btn'
				}
			});	
		});	

		$('#button5').on('click', function(e){		
			oLayerManager = new smg.global.LayerManager({
				layer: $('#gloval_message_popup').closest('.layer_popup'), 
				linked: $(this),
				options: {
					closeButton : '.login-leave-btn'
				}
			});	
		});	

		$('#button6').on('click', function(e){	 
			oLayerManager = new smg.global.LayerManager({
				layer: $('#loginLayerPopup'), 
				linked: $(this),
				onShow: function(e){
					e.layer.find('input').eq(0).focus();
					consoleShow(e);
				},
				onHide: function(e){
					consoleHide();
				},
				options: {			
					enforceInitFocus: false,
					keepDimmed: true
				}
			});
		});	
	});
})(window, jQuery);

</script>
</body>
</html>